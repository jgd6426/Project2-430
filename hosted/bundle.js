(()=>{const e=e=>{document.getElementById("errorMessage").textContent=e,document.getElementById("message").classList.remove("hidden")},t=async(t,s)=>{const r=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}),o=await r.json();document.getElementById("message").classList.add("hidden"),o.redirect&&(window.location=o.redirect),o.error&&e(o.error)};window.onload=()=>{const s=document.getElementById("signupForm"),r=document.getElementById("loginForm"),o=document.getElementById("noteForm"),n=document.getElementById("message");s&&s.addEventListener("submit",(r=>{r.preventDefault(),n.classList.add("hidden");const o=s.querySelector("#userS").value,d=s.querySelector("#passS").value,a=s.querySelector("#pass2").value;return o&&d&&a?d!==a?(e("Passwords do not match!"),!1):(t(s.getAttribute("action"),{username:o,pass:d,pass2:a}),!1):(e("Please fill out all information"),!1)})),r&&r.addEventListener("submit",(s=>{s.preventDefault(),n.classList.add("hidden");const o=r.querySelector("#userL").value,d=r.querySelector("#passL").value;return o&&d?(t(r.getAttribute("action"),{username:o,pass:d}),!1):(e("Please fill out all information"),!1)})),o&&o.addEventListener("submit",(s=>{s.preventDefault(),n.classList.add("hidden");const r=o.querySelector("#noteTitle").value;return r?(t(o.getAttribute("action"),{title:r}),!1):(e("Title is required!"),!1)}))}})();